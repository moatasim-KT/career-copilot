{% extends "base.html" %}

{% block title %}Milestone Celebration - Career Co-Pilot{% endblock %}

{% block header_title %}ğŸ‰ Milestone Achieved!{% endblock %}
{% block header_subtitle %}Celebrating your career progress, {{ user_name }}!{% endblock %}

{% block content %}
<div class="greeting">
    Congratulations, {{ user_name }}! ğŸŠ
</div>

<p style="margin-bottom: 25px; color: #4a5568; font-size: 16px;">
    We're excited to celebrate this important milestone in your career journey. Every step forward matters, and this achievement shows your dedication and progress!
</p>

<!-- Milestone Celebration -->
<div class="section" style="text-align: center; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
    {% if milestone_type == 'applications_sent' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ“¤</div>
    <h2 style="color: white; margin-bottom: 10px;">{{ milestone_data.count }} Applications Sent!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        You've reached your application milestone. Each application is a step closer to your dream job!
    </p>
    
    {% elif milestone_type == 'interview_scheduled' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ¤</div>
    <h2 style="color: white; margin-bottom: 10px;">Interview Scheduled!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        Great news! {{ milestone_data.company }} wants to meet with you for the {{ milestone_data.position }} role.
    </p>
    
    {% elif milestone_type == 'response_received' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ“§</div>
    <h2 style="color: white; margin-bottom: 10px;">Positive Response!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        {{ milestone_data.company }} has responded to your application. Your efforts are paying off!
    </p>
    
    {% elif milestone_type == 'skill_completed' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ“</div>
    <h2 style="color: white; margin-bottom: 10px;">Skill Mastered!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        You've completed your {{ milestone_data.skill_name }} learning path. Your expertise is growing!
    </p>
    
    {% elif milestone_type == 'streak_achievement' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ”¥</div>
    <h2 style="color: white; margin-bottom: 10px;">{{ milestone_data.days }}-Day Streak!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        Consistency is key to success, and you're proving it every day!
    </p>
    
    {% elif milestone_type == 'goal_achieved' %}
    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ¯</div>
    <h2 style="color: white; margin-bottom: 10px;">Goal Achieved!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        You've reached your {{ milestone_data.goal_type }} goal. Time to set an even bigger one!
    </p>
    
    {% else %}
    <div style="font-size: 48px; margin-bottom: 15px;">â­</div>
    <h2 style="color: white; margin-bottom: 10px;">Amazing Progress!</h2>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 16px;">
        You've achieved something special in your career journey!
    </p>
    {% endif %}
</div>

<!-- Milestone Details -->
{% if milestone_data %}
<div class="section">
    <h2 class="section-title">ğŸ“Š Milestone Details</h2>
    
    {% if milestone_type == 'applications_sent' %}
    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-number">{{ milestone_data.count }}</span>
            <span class="stat-label">Total Applications</span>
        </div>
        {% if milestone_data.this_week %}
        <div class="stat-card">
            <span class="stat-number">{{ milestone_data.this_week }}</span>
            <span class="stat-label">This Week</span>
        </div>
        {% endif %}
        {% if milestone_data.response_rate %}
        <div class="stat-card">
            <span class="stat-number">{{ milestone_data.response_rate }}%</span>
            <span class="stat-label">Response Rate</span>
        </div>
        {% endif %}
        {% if milestone_data.avg_per_week %}
        <div class="stat-card">
            <span class="stat-number">{{ milestone_data.avg_per_week }}</span>
            <span class="stat-label">Weekly Average</span>
        </div>
        {% endif %}
    </div>
    
    {% if milestone_data.recent_applications %}
    <div style="margin-top: 20px;">
        <h3 style="color: #2d3748; margin-bottom: 15px;">Recent Applications:</h3>
        {% for app in milestone_data.recent_applications[:5] %}
        <div style="background-color: #f7fafc; border: 1px solid #e2e8f0; border-radius: 6px; padding: 15px; margin-bottom: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong style="color: #2d3748;">{{ app.job_title }}</strong>
                    <div style="color: #4a5568; font-size: 14px;">{{ app.company }}</div>
                </div>
                <div style="text-align: right; color: #718096; font-size: 12px;">
                    {{ app.applied_date|datetime_format("%m/%d/%Y") }}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    {% elif milestone_type == 'interview_scheduled' %}
    <div style="background-color: #f0f4ff; border: 1px solid #c3dafe; border-radius: 8px; padding: 20px;">
        <h3 style="color: #2d3748; margin-bottom: 15px;">Interview Details:</h3>
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Position:</strong> {{ milestone_data.position }}
        </div>
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Company:</strong> {{ milestone_data.company }}
        </div>
        {% if milestone_data.interview_date %}
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Date:</strong> {{ milestone_data.interview_date|datetime_format("%B %d, %Y at %I:%M %p") }}
        </div>
        {% endif %}
        {% if milestone_data.interview_type %}
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Type:</strong> {{ milestone_data.interview_type|capitalize_words }}
        </div>
        {% endif %}
        {% if milestone_data.interviewer %}
        <div>
            <strong style="color: #2d3748;">Interviewer:</strong> {{ milestone_data.interviewer }}
        </div>
        {% endif %}
    </div>
    
    {% elif milestone_type == 'skill_completed' %}
    <div style="background-color: #fffaf0; border: 1px solid #fbd38d; border-radius: 8px; padding: 20px;">
        <h3 style="color: #2d3748; margin-bottom: 15px;">Skill Achievement:</h3>
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Skill:</strong> {{ milestone_data.skill_name }}
        </div>
        {% if milestone_data.course_name %}
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Course:</strong> {{ milestone_data.course_name }}
        </div>
        {% endif %}
        {% if milestone_data.time_invested %}
        <div style="margin-bottom: 10px;">
            <strong style="color: #2d3748;">Time Invested:</strong> {{ milestone_data.time_invested }} hours
        </div>
        {% endif %}
        {% if milestone_data.completion_date %}
        <div>
            <strong style="color: #2d3748;">Completed:</strong> {{ milestone_data.completion_date|datetime_format("%B %d, %Y") }}
        </div>
        {% endif %}
    </div>
    
    {% elif milestone_type == 'streak_achievement' %}
    <div style="background-color: #fff5f5; border: 1px solid #fed7d7; border-radius: 8px; padding: 20px;">
        <h3 style="color: #2d3748; margin-bottom: 15px;">Streak Details:</h3>
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-number">{{ milestone_data.days }}</span>
                <span class="stat-label">Consecutive Days</span>
            </div>
            {% if milestone_data.total_applications %}
            <div class="stat-card">
                <span class="stat-number">{{ milestone_data.total_applications }}</span>
                <span class="stat-label">Applications During Streak</span>
            </div>
            {% endif %}
            {% if milestone_data.avg_daily %}
            <div class="stat-card">
                <span class="stat-number">{{ milestone_data.avg_daily }}</span>
                <span class="stat-label">Daily Average</span>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% endif %}

<!-- Encouragement Message -->
{% if encouragement %}
<div class="section" style="background-color: #f0fff4; border: 1px solid #c6f6d5; border-radius: 8px; padding: 25px;">
    <h3 style="color: #2d3748; margin-bottom: 15px; text-align: center;">ğŸ’ª Keep Up the Momentum!</h3>
    <p style="color: #4a5568; font-size: 16px; line-height: 1.6; text-align: center;">
        {{ encouragement }}
    </p>
</div>
{% endif %}

<!-- Next Steps -->
<div class="section">
    <h2 class="section-title">ğŸš€ What's Next?</h2>
    
    {% if milestone_type == 'applications_sent' %}
    <div style="background-color: #f7fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
        <h4 style="color: #2d3748; margin-bottom: 15px;">Recommended Next Steps:</h4>
        <ul style="color: #4a5568; line-height: 1.6; padding-left: 20px;">
            <li style="margin-bottom: 8px;">Follow up on applications sent 1-2 weeks ago</li>
            <li style="margin-bottom: 8px;">Prepare for potential interview calls</li>
            <li style="margin-bottom: 8px;">Continue applying to 2-3 new positions daily</li>
            <li style="margin-bottom: 8px;">Update your LinkedIn profile with recent achievements</li>
            <li>Network with professionals in your target companies</li>
        </ul>
    </div>
    
    {% elif milestone_type == 'interview_scheduled' %}
    <div style="background-color: #f7fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
        <h4 style="color: #2d3748; margin-bottom: 15px;">Interview Preparation:</h4>
        <ul style="color: #4a5568; line-height: 1.6; padding-left: 20px;">
            <li style="margin-bottom: 8px;">Research the company and recent news</li>
            <li style="margin-bottom: 8px;">Review the job description and requirements</li>
            <li style="margin-bottom: 8px;">Prepare STAR method examples</li>
            <li style="margin-bottom: 8px;">Practice common interview questions</li>
            <li>Prepare thoughtful questions to ask the interviewer</li>
        </ul>
    </div>
    
    {% elif milestone_type == 'skill_completed' %}
    <div style="background-color: #f7fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
        <h4 style="color: #2d3748; margin-bottom: 15px;">Leverage Your New Skill:</h4>
        <ul style="color: #4a5568; line-height: 1.6; padding-left: 20px;">
            <li style="margin-bottom: 8px;">Update your resume and LinkedIn profile</li>
            <li style="margin-bottom: 8px;">Build a project showcasing this skill</li>
            <li style="margin-bottom: 8px;">Apply to jobs requiring this skill</li>
            <li style="margin-bottom: 8px;">Share your achievement on social media</li>
            <li>Consider mentoring others learning this skill</li>
        </ul>
    </div>
    
    {% else %}
    <div style="background-color: #f7fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
        <h4 style="color: #2d3748; margin-bottom: 15px;">Keep Building Momentum:</h4>
        <ul style="color: #4a5568; line-height: 1.6; padding-left: 20px;">
            <li style="margin-bottom: 8px;">Set your next career milestone</li>
            <li style="margin-bottom: 8px;">Continue your daily job search routine</li>
            <li style="margin-bottom: 8px;">Expand your professional network</li>
            <li style="margin-bottom: 8px;">Keep learning and developing new skills</li>
            <li>Celebrate small wins along the way</li>
        </ul>
    </div>
    {% endif %}
</div>

<!-- Call to Action -->
<div class="section" style="text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; padding: 25px;">
    <h3 style="margin-bottom: 15px; color: white;">ğŸ¯ Ready for the Next Challenge?</h3>
    <p style="font-size: 16px; line-height: 1.6; color: rgba(255, 255, 255, 0.95); margin-bottom: 20px;">
        This milestone is just the beginning. Your career journey is full of exciting opportunities ahead!
    </p>
    <a href="#dashboard" class="btn" style="background-color: white; color: #667eea; margin-right: 15px;">View Dashboard</a>
    <a href="#goals" class="btn" style="background-color: rgba(255, 255, 255, 0.2); color: white;">Set New Goals</a>
</div>

<!-- Share Achievement -->
<div class="section" style="text-align: center; background-color: #f7fafc; border-radius: 8px; padding: 20px;">
    <h3 style="color: #2d3748; margin-bottom: 15px;">ğŸ“¢ Share Your Success</h3>
    <p style="color: #4a5568; margin-bottom: 15px;">
        Celebrating achievements can inspire others and expand your professional network!
    </p>
    <div>
        <a href="#share-linkedin" class="btn btn-secondary" style="margin-right: 10px;">Share on LinkedIn</a>
        <a href="#share-twitter" class="btn btn-secondary">Share on Twitter</a>
    </div>
</div>

<div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e2e8f0; text-align: center;">
    <p style="color: #718096; font-size: 14px;">
        ğŸŒŸ <strong>Remember:</strong> Success is a series of small wins. Keep celebrating your progress!
    </p>
</div>
{% endblock %}