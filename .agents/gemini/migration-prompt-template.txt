# Gemini CLI - Migration Specialist Prompt Template
**Agent**: Gemini CLI (Free Tier - 1500 req/day)  
**Branch**: `agent/gemini/phase1-migrations`  
**Focus**: Migrating existing components to design token system

---

## Prompt Template for Task 1.4

Use this prompt with Gemini CLI when working on migration tasks:

```
You are migrating Career Copilot frontend components to use the new design token system.

### Context
- Design tokens are defined in `frontend/src/app/globals.css`
- New components Button2 and Card2 use these tokens
- Old components still use hard-coded Tailwind colors (e.g., `bg-white`, `text-gray-900`)

### Your Task: [INSERT SPECIFIC SUBTASK]

[For Task 1.4.1 - Button Import Updates]
Update Button imports in these 15 files:
1. frontend/src/components/pages/AdvancedFeaturesPage.tsx
2. frontend/src/components/pages/RecommendationsPage.tsx
3. [... list all 15 files]

Change:
- `import { Button } from '@/components/ui/Button'` → `import { Button2 } from '@/components/ui/Button2'`
- `<Button ...>` → `<Button2 ...>`

[For Task 1.4.2 - Navigation Migration]
Migrate `frontend/src/components/layout/Navigation.tsx` to design tokens:
- Replace `bg-white` → `bg-background`
- Replace `border-gray-200` → `border-border`
- Replace `text-gray-900` → `text-foreground`
- Replace `text-blue-600` → `text-primary-600`
- Replace `hover:bg-gray-50` → `hover:bg-neutral-50`

[For Task 1.4.3 - JobTableView Migration]
Migrate `frontend/src/components/pages/JobTableView.tsx` to design tokens:
- Replace ALL instances of `bg-gray-50` → `bg-neutral-50` (20+ instances)
- Replace `text-gray-500` → `text-neutral-500`
- Replace `text-gray-900` → `text-neutral-900`
- Replace `hover:bg-gray-50` → `hover:bg-neutral-50`

### Design Token Reference

Available tokens in globals.css:
```css
/* Colors */
bg-background, bg-foreground, bg-card
text-foreground, text-muted, text-accent

/* Primary palette */
bg-primary-50, bg-primary-100, ..., bg-primary-950
text-primary-50, text-primary-100, ..., text-primary-950

/* Neutral palette */
bg-neutral-50, bg-neutral-100, ..., bg-neutral-950
text-neutral-50, text-neutral-100, ..., text-neutral-950

/* Semantic colors */
bg-success-*, text-success-* (50-950)
bg-error-*, text-error-* (50-950)
bg-warning-*, text-warning-* (50-950)
bg-info-*, text-info-* (50-950)

/* Borders */
border-border, border-input, border-ring
```

### Replacement Rules

1. **Basic Colors**
   - `bg-white` → `bg-background`
   - `bg-black` → `bg-foreground`
   - `text-black` → `text-foreground`
   - `text-white` → `text-white` (or `text-primary-contrast` if available)

2. **Gray Scale**
   - `bg-gray-50` → `bg-neutral-50`
   - `bg-gray-100` → `bg-neutral-100`
   - `bg-gray-200` → `bg-neutral-200`
   - ... (same pattern for all shades 50-950)
   - `text-gray-*` → `text-neutral-*`
   - `border-gray-*` → `border-neutral-*`

3. **Blue (Primary)**
   - `bg-blue-50` → `bg-primary-50`
   - `bg-blue-600` → `bg-primary-600`
   - `text-blue-600` → `text-primary-600`
   - `hover:bg-blue-700` → `hover:bg-primary-700`

4. **Semantic Colors**
   - `bg-red-*` → `bg-error-*`
   - `bg-green-*` → `bg-success-*`
   - `bg-yellow-*` → `bg-warning-*`
   - `bg-sky-*` → `bg-info-*`

5. **Borders**
   - `border-gray-200` → `border-border`
   - `border-gray-300` → `border-neutral-300`

### Quality Checklist

Before marking subtask complete, verify:
- [ ] All hard-coded colors replaced with design tokens
- [ ] Component renders correctly in light mode
- [ ] Component renders correctly in dark mode
- [ ] No TypeScript errors
- [ ] No ESLint warnings
- [ ] Functionality unchanged (only visual update)

### Output Format

After completing migration, report:
```
✅ Task [X.X.X] Complete: [Component Name]

Changes Made:
- Replaced [N] instances of bg-gray-* → bg-neutral-*
- Replaced [N] instances of text-gray-* → text-neutral-*
- Updated [N] Button → Button2 imports

Testing:
- ✅ Light mode: Renders correctly
- ✅ Dark mode: Renders correctly
- ✅ No TypeScript errors
- ✅ No ESLint warnings

File: [path/to/file.tsx]
Lines Modified: [approximate count]
```

### Coordination Notes

- You are working on branch: `agent/gemini/phase1-migrations`
- Update `.agents/shared/task-assignments.json` when starting/completing tasks
- Commit after each subtask with message: `feat(migration): migrate [ComponentName] to design tokens`
- DO NOT create new component files (that's Copilot's job)
- DO NOT modify files outside of Task 1.4 assignments

### Common Issues

**Issue**: "Can't find design token for specific color"
**Solution**: Use closest neutral shade or check globals.css for exact token name

**Issue**: "Component looks different after migration"
**Solution**: Dark mode might need adjustment. Add `dark:` variants where needed

**Issue**: "TypeScript error on Button2"
**Solution**: Check that import path is `@/components/ui/Button2` and props match

### Example Migration

Before:
```tsx
<div className="bg-white border border-gray-200 text-gray-900">
  <Button variant="primary">Click me</Button>
  <p className="text-gray-600">Description</p>
</div>
```

After:
```tsx
<div className="bg-background border border-border text-foreground">
  <Button2 variant="primary">Click me</Button2>
  <p className="text-neutral-600">Description</p>
</div>
```

---

Now migrate [COMPONENT_NAME] following these guidelines.
```

---

## How to Use This Template

### 1. Copy the relevant section for your subtask
For Task 1.4.1 (Button imports), use the "Button Import Updates" section.  
For Task 1.4.2 (Navigation), use the "Navigation Migration" section.  
And so on...

### 2. Paste into Gemini CLI
```bash
# Example for Task 1.4.1
gemini-cli chat --file .agents/gemini/migration-prompt-template.txt \
  --context frontend/src/components/pages/AdvancedFeaturesPage.tsx
```

### 3. Let Gemini work
Gemini will:
- Read the file
- Identify hard-coded colors
- Replace with design tokens
- Verify the changes
- Report results

### 4. Review and commit
```bash
# Review changes
git diff

# If looks good, commit
git add frontend/src/components/pages/AdvancedFeaturesPage.tsx
git commit -m "feat(migration): migrate AdvancedFeaturesPage to design tokens"
```

### 5. Update coordination file
```json
{
  "agents": {
    "gemini": {
      "completed_tasks": ["1.4.1.1"],
      "current_task": "1.4.1.2"
    }
  }
}
```

---

## Batch Processing (for multiple files)

If Gemini CLI supports batch operations:

```bash
# For Task 1.4.1 (15 Button import updates)
for file in \
  frontend/src/components/pages/AdvancedFeaturesPage.tsx \
  frontend/src/components/pages/RecommendationsPage.tsx \
  frontend/src/components/pages/JobsPage.tsx \
  # ... add all 15 files
do
  echo "Processing $file..."
  gemini-cli chat \
    --prompt "Update Button imports in $file: Change 'import { Button } from @/components/ui/Button' to 'import { Button2 } from @/components/ui/Button2', and change all <Button> to <Button2>. Maintain all props and functionality." \
    --context "$file" \
    --output "$file"
  
  git add "$file"
  git commit -m "feat(migration): update Button imports in $(basename $file)"
done
```

---

## Success Metrics

Track progress in task-assignments.json:

```json
{
  "agents": {
    "gemini": {
      "task_metrics": {
        "files_migrated": 18,
        "lines_changed": 420,
        "tokens_replaced": 156,
        "time_spent_hours": 6.5,
        "errors_encountered": 2,
        "commits_made": 18
      }
    }
  }
}
```

---

**Note**: This is a template. Customize the prompt based on which subtask you're working on (1.4.1 through 1.4.6).
