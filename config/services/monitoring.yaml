# Monitoring Service Configuration
service: monitoring
enabled: true

# Prometheus Configuration
prometheus:
  enabled: true
  port: 9090
  metrics_path: "/metrics"
  scrape_interval: "15s"
  retention: "15d"
  
# OpenTelemetry Configuration
opentelemetry:
  enabled: true
  endpoint: ""  # Set to your OTLP endpoint
  service_name: "contract-analyzer"
  service_version: "1.0.0"
  
# Jaeger Tracing
jaeger:
  enabled: false
  endpoint: "http://localhost:14268/api/traces"
  service_name: "contract-analyzer"
  
# Health Checks
health_checks:
  enabled: true
  interval: 30
  timeout: 10
  endpoints:
    - name: "api"
      url: "http://localhost:8002/health"
    - name: "database"
      type: "database"
    - name: "redis"
      type: "redis"
      
# Alerting
alerting:
  enabled: true
  webhook_url_env: "ALERT_WEBHOOK_URL"
  channels:
    - "slack"
    - "email"
    
# Metrics Collection
metrics:
  # Application Metrics
  application:
    enabled: true
    include_request_duration: true
    include_request_count: true
    include_error_rate: true
    
  # System Metrics
  system:
    enabled: true
    include_cpu: true
    include_memory: true
    include_disk: true
    include_network: false
    
  # Business Metrics
  business:
    enabled: true
    track_contract_analysis: true
    track_user_sessions: true
    track_api_usage: true
    
# Logging Configuration
logging:
  level: "INFO"
  format: "json"
  structured: true
  
  # Log Aggregation
  aggregation:
    enabled: false
    endpoint: ""  # Loki, Elasticsearch, etc.
    
# Performance Monitoring
performance:
  enabled: true
  
  # Database Query Monitoring
  database:
    log_slow_queries: true
    slow_query_threshold: 1000  # milliseconds
    
  # API Performance
  api:
    track_response_times: true
    track_throughput: true
    alert_on_high_latency: true
    latency_threshold: 5000  # milliseconds
    
# Security Monitoring
security:
  enabled: true
  
  # Audit Logging
  audit:
    enabled: true
    log_file: "logs/audit/audit.log"
    include_request_body: false
    include_response_body: false
    
  # Rate Limiting Monitoring
  rate_limiting:
    enabled: true
    alert_on_violations: true
    
  # Authentication Monitoring
  auth:
    log_failed_attempts: true
    alert_on_brute_force: true
    max_failed_attempts: 5
    
# Environment Overrides
environments:
  development:
    prometheus:
      enabled: false
    opentelemetry:
      enabled: false
    logging:
      level: "DEBUG"
      
  production:
    prometheus:
      enabled: true
      retention: "30d"
    opentelemetry:
      enabled: true
    security:
      audit:
        include_request_body: false
        include_response_body: false
        
  testing:
    enabled: false